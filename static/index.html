<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Information Extractor</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body class="bg-slate-50 font-sans text-slate-800">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl sm:text-4xl font-bold text-slate-900 tracking-tight">Contract Information Extractor</h1>
            <p class="mt-2 text-lg text-slate-600">Upload a PDF or DOCX file to instantly extract key details.</p>
        </header>

        <main class="max-w-3xl mx-auto">
            <form id="uploadForm" class="w-full">
                <!-- Drag and Drop File Upload -->
                <div id="fileDropArea" class="relative block w-full rounded-lg border-2 border-dashed border-slate-300 p-8 sm:p-12 text-center hover:border-slate-400 transition-colors duration-300">
                    <div class="flex flex-col items-center">
                        <svg class="mx-auto h-12 w-12 text-slate-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                            <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <span id="fileDropText" class="mt-4 block text-sm font-semibold text-slate-900">
                            Drag and drop your contract here
                        </span>
                        <span class="mt-1 block text-xs text-slate-500">
                            or <button type="button" id="browseButton" class="font-medium text-indigo-600 hover:text-indigo-500">browse to upload</button>
                        </span>
                        <span id="fileName" class="mt-4 text-sm font-medium text-slate-700"></span>
                    </div>
                    <input type="file" id="fileInput" name="file" accept=".pdf, .docx" required class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" />
                </div>

                <!-- Upload Button -->
                <div class="mt-6 text-center">
                    <button type="submit" id="submitButton" class="w-full sm:w-auto inline-flex items-center justify-center rounded-md bg-indigo-600 px-8 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        <span id="buttonText">Extract Information</span>
                        <!-- Loading Spinner -->
                        <div id="spinner" class="hidden animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-3"></div>
                    </button>
                </div>
            </form>

            <!-- Results Section -->
            <div id="result" class="mt-10">
                <!-- Dynamic content will be injected here -->
            </div>

            <!-- Download Link Section -->
            <div id="downloadLink" class="hidden mt-8 text-center">
                <a href="/download" id="downloadButton" class="inline-flex items-center gap-x-2 rounded-md bg-teal-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-teal-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600 transition-colors duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                    Download Extracted Data as CSV
                </a>
            </div>
        </main>
    </div>
    <!-- Custom Scripts -->
    <script src="/static/scripts.js"></script>
</body>
</html>